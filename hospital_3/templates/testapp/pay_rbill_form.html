<!DOCTYPE html>
{%extends 'testapp/shome.html' %}
{%load static%}

{%block grand_child_block%}

<script src="{%static "testapp/js/jquery-3.5.1.min.js"%}" type="text/javascript"> </script>
<!-- <script src="{%static "testapp/js/jsuser.js"%}" type="text/javascript"> </script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"
integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E="
crossorigin="anonymous"></script>


<div class="class1"; align="center">


<h1>{{title}}</h1>
<form  method="post">
  {%if form%}
  billed amount:{{bill_amount}}
    {{form.as_p}}
  {%csrf_token%} <br><br>
  <input type="submit" button class="btn  btn-success" value= {{title}}>
  {%endif%}
</form> <br><br>
{%if msg%}
 {{msg}}

{%endif%}
</div>

<script type="text/javascript">
$("#id_mode_of_payment").click(function(){
  var ptype=$('select').val();
  // alert("outside " + ptype);
  if (ptype=="CARD") {

    $('select').val('CARD');
    // alert('hello CASH hi');
    $("#id_paid_by_cash").hide();
    $('label[for=id_paid_by_cash], input#id_paid_by_cash').hide();

    $("#id_paid_by_card").show();
    $('label[for=id_paid_by_card], input#id_paid_by_card').show();
    $("#id_tx_id_reference").show();
    $('label[for=id_tx_id_reference], input#id_tx_id_reference').show();
    $("#id_card_issued_bank").show();
    $('label[for=id_card_issued_bank], input#id_card_issued_bank').show();
    $('.helptext').show();
   }
   else if (ptype=="CASH") {
       // alert("Text:inside " + ptype);
      $("#id_paid_by_card").hide();
      $('label[for=id_paid_by_card], input#id_paid_by_card').hide();

      $("#id_tx_id_reference").hide();
      $('label[for=id_tx_id_reference], input#id_tx_id_reference').hide();

      $("#id_card_issued_bank").hide();
      $('label[for=id_card_issued_bank], input#id_card_issued_bank').hide();
      $('.helptext').hide();
      $("#id_paid_by_cash").show();
      $('label[for=id_paid_by_cash], input#id_paid_by_cash').show();

   }
   else {
     $("#id_paid_by_card").show();
     $('label[for=id_paid_by_card], input#id_paid_by_card').show();
     $("#id_tx_id_reference").show();
     $('label[for=id_tx_id_reference], input#id_tx_id_reference').show();
     $("#id_card_issued_bank").show();
     $('label[for=id_card_issued_bank], input#id_card_issued_bank').show();
     $('.helptext').show();
     $("#id_paid_by_cash").show();
     $('label[for=id_paid_by_cash], input#id_paid_by_cash').show();
   }
});

</script>

<script type="text/javascript">

$("input[type='radio']").click(function(){   // need to check not working
            // var ptyp = $("input[name='mode_of_payment']:checked").val();
            var ptype = $("input[name='mode_of_payment']:checked").val();
          if(ptype){
              alert("Your are a - " + ptype);
          }
          if (ptype=="CARD") {

            // $('select').val('CARD');

            $("#id_paid_by_cash").hide();
            $('label[for=id_paid_by_cash], input#id_paid_by_cash').hide();
            alert('hello CASH hi');
            $("#id_paid_by_card").show();
            $('label[for=id_paid_by_card], input#id_paid_by_card').show();
            $("#id_tx_id_reference").show();
            $('label[for=id_tx_id_reference], input#id_tx_id_reference').show();
            $("#id_card_issued_bank").show();
            $('label[for=id_card_issued_bank], input#id_card_issued_bank').show();
            $('.helptext').show();
           }
           else if (ptype=="CASH") {
               // alert("Text:inside " + ptype);
              $("#id_paid_by_card").hide();
              $('label[for=id_paid_by_card], input#id_paid_by_card').hide();

              $("#id_tx_id_reference").hide();
              $('label[for=id_tx_id_reference], input#id_tx_id_reference').hide();

              $("#id_card_issued_bank").hide();
              $('label[for=id_card_issued_bank], input#id_card_issued_bank').hide();
              $('.helptext').hide();
              $("#id_paid_by_cash").show();
              $('label[for=id_paid_by_cash], input#id_paid_by_cash').show();

           }
           else {
             $("#id_paid_by_card").show();
             $('label[for=id_paid_by_card], input#id_paid_by_card').show();
             $("#id_tx_id_reference").show();
             $('label[for=id_tx_id_reference], input#id_tx_id_reference').show();
             $("#id_card_issued_bank").show();
             $('label[for=id_card_issued_bank], input#id_card_issued_bank').show();
             $('.helptext').show();
             $("#id_paid_by_cash").show();
             $('label[for=id_paid_by_cash], input#id_paid_by_cash').show();
           }


});


</script>

{%endblock%}
